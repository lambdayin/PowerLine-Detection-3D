# Pythonç‰ˆç”µåŠ›çº¿æå–ç³»ç»Ÿ

æœ¬ç›®å½•åŒ…å«äº†ä»MATLABä»£ç å®Œæ•´è½¬æ¢çš„Pythonç‰ˆæœ¬ç”µåŠ›çº¿æå–ç®—æ³•ï¼Œä¿æŒäº†æ‰€æœ‰åŸå§‹å‚æ•°å’Œå¤„ç†é€»è¾‘ã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–
```bash
cd project-development
pip install -r requirements.txt
```

### 2. å¿«é€Ÿä½“éªŒ
```bash
python quick_start.py
```

### 3. å®Œæ•´è¿è¡Œ
```bash
python demo_extract_powerline.py
```

## ğŸ“ æ–‡ä»¶è¯´æ˜

| æ–‡ä»¶ | åŠŸèƒ½ | å¯¹åº”MATLABæ–‡ä»¶ |
|------|------|---------------|
| `demo_extract_powerline.py` | ä¸»ç¨‹åºï¼Œå®Œæ•´å¤„ç†æµç¨‹ | `demo_extract_powerline.m` |
| `utils.py` | æ ¸å¿ƒç®—æ³•å‡½æ•° | `extractPLs.m`, `getPCA.m`, `getDist.m`, `insert_3D.m` |
| `clustering.py` | èšç±»å’Œåˆå¹¶å‡½æ•° | `merge.m`, `findMerge.m` |
| `quick_start.py` | å¿«é€Ÿæ¼”ç¤ºç¨‹åº | - |
| `requirements.txt` | Pythonä¾èµ–åŒ… | - |

## ğŸ”§ ç®—æ³•å‚æ•°ï¼ˆä¸MATLABå®Œå…¨ä¸€è‡´ï¼‰

- **radius = 0.5**: é‚»åŸŸæœç´¢åŠå¾„
- **angle_thr = 10**: è§’åº¦é˜ˆå€¼ï¼ˆåº¦ï¼‰
- **l_thr = 0.98**: çº¿æ€§åº¦é˜ˆå€¼
- **min_distance_1 = 2.0**: ç¬¬ä¸€æ¬¡èšç±»è·ç¦»
- **min_distance_2 = 0.3**: ç¬¬äºŒæ¬¡èšç±»è·ç¦»
- **min_cluster_size = 15**: æœ€å°èšç±»ç‚¹æ•°
- **min_length = 1.5**: æœ€å°ç”µåŠ›çº¿é•¿åº¦
- **insert_resolution = 0.1**: ç‚¹æ’å…¥åˆ†è¾¨ç‡

## ğŸ“Š å¤„ç†æµç¨‹

1. **åœ°é¢æ»¤æ³¢**: ä½¿ç”¨ç›´æ–¹å›¾åˆ†æå»é™¤åœ°é¢ç‚¹
2. **å€™é€‰ç‚¹æå–**: åŸºäºPCAçº¿æ€§ç‰¹å¾åˆ†ææå–å€™é€‰ç”µåŠ›çº¿ç‚¹
3. **æ¬§å‡ é‡Œå¾—èšç±»**: å¯¹å€™é€‰ç‚¹è¿›è¡Œç©ºé—´èšç±»
4. **ç”µåŠ›çº¿å»ºæ¨¡**: åˆå¹¶ã€ä¼˜åŒ–å’Œå¯†åŒ–ç”µåŠ›çº¿æ¨¡å‹

## ğŸ¯ è¾“å‡ºç»“æœ

ç¨‹åºä¼šç”Ÿæˆä»¥ä¸‹å¯è§†åŒ–å›¾åƒï¼š
- `f1_nonGroundPoints.png`: éåœ°é¢ç‚¹
- `f2_candidate_powerline_points.png`: å€™é€‰ç”µåŠ›çº¿ç‚¹
- `f3_candidate_powerline_points_clusters.png`: å€™é€‰ç‚¹èšç±»
- `f4_powerline_points_clusters.png`: è¿‡æ»¤åèšç±»
- `f5_colorization_clusters.png`: å½©è‰²èšç±»æ˜¾ç¤º
- `f6_powerLines_clusters.png`: åˆå¹¶åç”µåŠ›çº¿
- `f7_Power_line_model.png`: æœ€ç»ˆç”µåŠ›çº¿æ¨¡å‹

## ğŸ’¡ ä½¿ç”¨æ³¨æ„äº‹é¡¹

1. **æ•°æ®è·¯å¾„**: ç¡®ä¿ç‚¹äº‘æ–‡ä»¶ä½äº `../pointcloud_files/` ç›®å½•ä¸‹
2. **æ–‡ä»¶æ ¼å¼**: æ”¯æŒMATLAB .matæ ¼å¼çš„ç‚¹äº‘æ–‡ä»¶
3. **å†…å­˜è¦æ±‚**: å»ºè®®8GBä»¥ä¸Šå†…å­˜ç”¨äºå¤„ç†å¤§è§„æ¨¡ç‚¹äº‘
4. **å¯è§†åŒ–**: ç¨‹åºä¼šè‡ªåŠ¨æ˜¾ç¤ºä¸­é—´å’Œæœ€ç»ˆç»“æœçš„3Då¯è§†åŒ–

## ğŸ” å‚æ•°è°ƒä¼˜æŒ‡å—

### å¦‚æœæå–æ•ˆæœä¸ä½³ï¼Œå¯å°è¯•è°ƒæ•´ä»¥ä¸‹å‚æ•°ï¼š

**å™ªå£°è¾ƒå¤šçš„æƒ…å†µ:**
- å¢å¤§ `angle_thr` (å¦‚15-20)
- å¢å¤§ `l_thr` (å¦‚0.99)
- å‡å° `radius` (å¦‚0.3-0.4)

**ç¨€ç–ç‚¹äº‘:**
- å‡å° `min_distance_1` (å¦‚1.5)
- å¢å¤§ `radius` (å¦‚0.7-1.0)
- å‡å° `min_cluster_size` (å¦‚10)

**å¤æ‚åœºæ™¯:**
- é€‚å½“é™ä½ `l_thr` (å¦‚0.95-0.97)
- è°ƒæ•´ `angle_thr` èŒƒå›´

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜ï¼š

1. **æ‰¾ä¸åˆ°æ–‡ä»¶**: æ£€æŸ¥ç‚¹äº‘æ–‡ä»¶æ˜¯å¦åœ¨æ­£ç¡®è·¯å¾„
2. **å†…å­˜ä¸è¶³**: å‡å°‘å¤„ç†çš„ç‚¹äº‘æ•°é‡æˆ–å¢åŠ ç³»ç»Ÿå†…å­˜
3. **æ²¡æœ‰æ£€æµ‹åˆ°ç”µåŠ›çº¿**: è°ƒæ•´ç®—æ³•å‚æ•°ï¼Œç‰¹åˆ«æ˜¯ `l_thr` å’Œ `angle_thr`
4. **å¯è§†åŒ–ä¸æ˜¾ç¤º**: ç¡®ä¿å›¾å½¢ç•Œé¢å¯ç”¨ï¼Œæˆ–æ£€æŸ¥matplotlibé…ç½®

### è°ƒè¯•æŠ€å·§ï¼š
- è¿è¡Œ `quick_start.py` è¿›è¡Œå¿«é€Ÿæµ‹è¯•
- æ£€æŸ¥ä¸­é—´ç»“æœçš„ç‚¹æ•°é‡æ˜¯å¦åˆç†
- ä½¿ç”¨è¾ƒå°çš„æ•°æ®é›†è¿›è¡Œå‚æ•°è°ƒè¯•

## ğŸ“š ç®—æ³•è¯¦è§£

è¯¦ç»†çš„ç®—æ³•é€»è¾‘å’Œå¤„ç†æµç¨‹è¯´æ˜è¯·å‚è€ƒï¼š[ç®—æ³•é€»è¾‘ä¸å¤„ç†æµç¨‹.md](ç®—æ³•é€»è¾‘ä¸å¤„ç†æµç¨‹.md)

## ğŸ“– å¼•ç”¨

å¦‚æœä½¿ç”¨æœ¬ä»£ç ï¼Œè¯·å¼•ç”¨åŸå§‹è®ºæ–‡ï¼š

Zhenwei Shi, Yi Lin, and Hui Li. "Extraction of urban power lines and potential hazard analysis from mobile laser scanning point clouds." International Journal of Remote Sensing 41, no. 9 (2020): 3411-3428.